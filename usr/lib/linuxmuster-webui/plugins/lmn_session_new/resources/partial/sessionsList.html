<br/>
<div samba-access>

    <div class="alert alert-warning">This plugin is actually under heavy development and only published for tests purpose.</div>

    <div class="input-group" style="width:100%">
        <input ng:model="filter" type="search" autofocus class="form-control" placeholder="Filter" />
    </div>

    <br />

    <progress-spinner ng:show="loading"></progress-spinner>

    <!-- Room -->
    <div class="list-group">
        <h3 style="margin-bottom:30px;">
            <i class="fas fa-desktop"></i>
            <span translate>This Room</span>
        </h3>

        <div class="alert alert-info" ng:show="room.name == '' && !loading">
            <span translate>
                Currenty it's not possible to determine your room, are you logged on a school computer ?
            </span>
        </div>

        <div class="flex-container lmn-container-list" ng:show="room.name != ''">
            <div class="list-group-item session-flex-item" ng:click="startGenerated('this_room')">
                <h4> {{room.name}} </h4>
                <div style="float:left;width:50%">
                    <div class="session_image session_image_room" ng:click="startGenerated('this_room')" title="{{generateRoomSessionMouseover}}">
                        &nbsp;
                    </div>
                </div>
                <div class="session_container pull-right">
                    <i class="fa fa-users"></i>
                    <span>{{room.usersList.length}}</span>
                </div>
            </div>
        </div>
    </div>

    <hr />

    <!-- schoolclasses -->
    <div class="list-group">
        <h3 style="margin-bottom:30px;">
            <i class="fas fa-users"></i>
            <span translate>My Classes</span>
        </h3>

        <div class="alert alert-info" ng:show="schoolclasses.length == 0 && !loading">
            <span translate>
                You are not member of any schoolclass. You can change your membership in the <a href="/view/lmn/groupmembership/">"Enroll" page</a>.
            </span>
        </div>

        <div class="flex-container lmn-container-list" >
            <div class="list-group-item session-flex-item" ng:repeat="schoolclass in schoolclasses|filter:filter | orderBy: 'cn' :false" ng:click="startGenerated(schoolclass)" >
                <h4> {{schoolclass.name}} </h4>
                <div class="session_container pull-right">
                    <i class="fa fa-users"></i>
                    <span>{{schoolclass.membersCount}}</span>
                </div>
                <span style="float:left;width:50%">
                    <div class="session_image session_image_classes" title="{{startSchoolclassSessionMouseover}}">
                        &nbsp;
                    </div>
                </span>
            </div>
        </div>
    </div>

    <hr />

    <!-- groups overview list -->
    <div class="list-group">
        <button class="btn btn-success pull-right" ng:click="newSession()">
            <i class="fa fa-plus"></i>
            <span translate>New group</span>
        </button>

        <h3 style="margin-bottom:30px;">
            <i class="far fa-list-alt"></i>
            <span translate>My groups</span>
        </h3>

        <div class="alert alert-info" ng:show="sessions.length == 0 && !loading">
            <span translate>
                There are n group yet. Create a new group using the 'New group' button bellow!
            </span>
        </div>

        <div class="flex-container lmn-container-list">
            <div class="list-group-item session-flex-item" ng:repeat="session in sessions|filter:filter | orderBy: '-name' :true | filter: '!-autoGenerated'" ng:click="start(session)">
                <h4>{{session.name}}</h4>
                <span style="float:left;width:50%">
                    <div class="session_image session_image_sessions" title="{{startGeneratedSessionMouseover}}">
                        &nbsp;
                    </div>
                </span>
                <div style="clear:right;float:right;width:50%;">
                    <a ng:click="killSession(session, $event)" class="btn btn-flat pull-right">
                        <i class="fa fa-trash"></i>
                    </a>
                    <a ng:click="renameSession(session, $event)" class="btn btn-flat pull-right">
                        <i class="fa fa-pencil"></i>
                    </a>
                    <div class="session_container pull-right" style="clear:right;">
                        <div class="session_new_hr"></div>
                        <br />
                        <i class="fa fa-users"></i>
                        <span>{{session.membersCount}}</span>
                    </div>
                </div>
            </div>
        </div>

        <hr />

        <!-- projects -->
        <div class="list-group">
            <h3 style="margin-bottom:30px;">
                <i class="fas fa-users"></i>
                <span translate>My Projects</span>
            </h3>

            <div class="alert alert-info" ng:show="schoolclasses.length == 0 && !loading">
                <span translate>
                    You don't own any project. You can create your project in the <a href="/view/lmn/groupmembership/">"Enroll" page</a>.
                </span>
            </div>

            <div class="flex-container lmn-container-list">
                <div class="list-group-item session-flex-item" ng:repeat="project in projects|filter:filter | orderBy: 'cn' :false" ng:click="startGenerated(project)" >
                    <h4> {{project.name}} </h4>
                    <div>
                        <span style="float:right;width:50%;">
                            <div class="session_container pull-right">
                                <i class="fa fa-users"></i>
                                <span>{{project.membersCount}}</span>
                            </div>
                        </span>
                        <span style="float:left;width:50%">
                            <div class="session_image session_image_classes" title="{{startSchoolclassSessionMouseover}}">
                                &nbsp;
                            </div>
                        </span>
                    </div>
                </div>
            </div>
        </div>

</div>
